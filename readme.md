# Product API

A Spring Boot REST API for managing products, including features for product management, duplication, and bundle creation.

## Technology Stack

- Initialization with start.spring.io/
- Java 24
- Spring Boot 3.5.0
- Spring Data JPA
- H2 Database (in-memory)
- Maven

## Features

### Basic CRUD Operations
- Get all products
- Get product by ID
- Create new product
- Update existing product
- Delete product

### Advanced Features
1. **Product Duplication**
    - Create copies of existing products
    - Automatically appends "copy" to the duplicated product name

2. **Product Bundling**
    - Create product bundles from existing products
    - Automatic price calculation (sum of component products)
    - Bundle name generation from component products
    - Cycle prevention: Products cannot be part of multiple bundles

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET    | `/products` | Retrieve all products |
| GET    | `/products/{id}` | Retrieve a specific product |
| POST   | `/products` | Create a new product |
| PUT    | `/products/{id}` | Update an existing product |
| DELETE | `/products/{id}` | Delete a product |
| POST   | `/products/{id}/duplicate` | Create a copy of an existing product |
| POST   | `/products/bundle` | Create a bundle from multiple products |

## Business Rules

1. **Product Bundling Rules**
    - A product can only be part of one bundle
    - Bundle price is automatically calculated as the sum of its components
    - Bundle name is generated by concatenating component product names
    - System prevents creation of circular bundle references

2. **Product Duplication Rules**
    - Duplicated products maintain the same price as the original
    - Duplicated product names are appended with " copy"

## Project structure
```
product-api/
├── src/
│ ├── main/
│ │ ├── java/com/example/productapi/
│ │ │ ├── ProductApiApplication.java
│ │ │ ├── controller/ProductController.java
│ │ │ ├── model/Product.java
│ │ │ └── repository/ProductRepository.java
│ └── resources/
│ ├── application.properties
├── pom.xml
```
## Getting Started

### Prerequisites
- Java 24 or higher
- Maven 3.x

### Building

To build the project: bash `mvn clean`
This will create a JAR file in the `target` directory.


### Running the Application
1. Clone the repository
2. Navigate to the project directory
3. Run the application: bash `mvn spring-boot:run`

The API will be available at `http://localhost:8080`

## Development

The project uses the following development tools:
- Spring Boot DevTools for development efficiency
- H2 in-memory database for development and testing
- Maven for dependency management and build automation

## API Endpoints and cURL Examples

1.Create a Product

`curl -X POST http://localhost:8080/products -H "Content-Type: application/json" -d '{"name":"Ordinateur",
"price":500}'`

2.Update Product

`curl -X PUT -H "Content-Type: application/json" -d '{"name":"Stylo Premium","price":3.5}' 
http://localhost:8080/products/{id}`

3.Delete Product

`curl -X DELETE http://localhost:8080/products/{id}`

4.Duplicate Product

`curl -X POST -H "Content-Type: application/json" -d '{}' http://localhost:8080/products/{id}/duplicate`

5.Create Bundle

`curl -X POST http://localhost:8080/products/bundle -H "Content-Type: application/json" -d '[1,2,3]'`

